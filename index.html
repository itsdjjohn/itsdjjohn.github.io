<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DJ John - Sitio Oficial</title>
  <meta name="description" content="Sitio oficial de DJ John - Eventos, música y más.">
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/itsdjjohn/djjohn/main/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://raw.githubusercontent.com/itsdjjohn/djjohn/main/bbce7d73-f8ec-4838-b760-3e9889a87eb7.png');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: #f0f0f0;
      line-height: 1.6;
    }
    a {
      color: inherit;
      text-decoration: none;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    /* Preloader */
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #preloader img {
      max-width: 150px;
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    header {
      background-color: #000;
      position: sticky;
      top: 0;
      z-index: 1000;
      padding: 20px 0;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
    }
    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    .nav img {
      max-height: 50px;
    }
    .nav-links {
      display: flex;
      align-items: center;
    }
    .nav-links a {
      margin-left: 20px;
      font-weight: 600;
      color: #fff;
      transition: color 0.3s ease;
    }
    .nav-links a:hover {
      color: #ff1a1a;
    }
    #language-select {
      background: #222;
      color: #fff;
      border: none;
      padding: 8px;
      border-radius: 5px;
      margin-left: 20px;
      font-family: 'Montserrat', sans-serif;
      cursor: pointer;
    }
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
    }
    .menu-toggle svg {
      fill: #fff;
      width: 30px;
      height: 30px;
      transition: fill 0.3s ease;
    }
    .menu-toggle:hover svg {
      fill: #ff1a1a;
    }
    .hero {
      width: 100%;
      height: 60vh;
      overflow: hidden;
      background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://raw.githubusercontent.com/itsdjjohn/djjohn/main/bbce7d73-f8ec-4838-b760-3e9889a87eb7.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      animation: fadeIn 1.5s ease-in-out;
    }
    .hero video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.9;
    }
    .btn-primary {
      background: #ff1a1a;
      color: white;
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 16px;
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .btn-primary:hover {
      background: #ff4d4d;
      transform: scale(1.05);
    }
    .section {
      padding: 60px 0;
      animation: slideUp 1s ease forwards;
      opacity: 0;
    }
    .section.show {
      opacity: 1;
    }
    .section h2 {
      font-size: 2rem;
      color: #ff1a1a;
      margin-bottom: 30px;
      text-align: center;
    }
    .event-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .event-item {
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .event-info {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    .event-item strong {
      color: #fff;
    }
    .event-error {
      text-align: center;
      color: #ff4d4d;
      font-size: 1.1rem;
    }
    footer {
      background: #000;
      color: #ccc;
      text-align: center;
      padding: 40px 20px;
      margin-top: 40px;
    }
    footer .logo {
      max-width: 120px;
      margin-bottom: 20px;
    }
    footer a {
      color: #ff4d4d;
      font-weight: 600;
      display: inline-block;
      margin: 0 10px;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @media (max-width: 768px) {
      .hero {
        height: 50vh;
      }
      .nav {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
      }
      .nav-links {
        display: none;
        flex-direction: column;
        align-items: center;
        position: absolute;
        top: 80px;
        left: 0;
        width: 100%;
        background: #1a1a1a;
        padding: 20px;
        border-bottom: 1px solid #333;
      }
      .nav-links.nav-active {
        display: flex;
        animation: slideDown 0.3s ease forwards;
      }
      .nav-links a, #language-select {
        margin: 10px 0;
      }
      .menu-toggle {
        display: block;
      }
    }
    @media (max-width: 480px) {
      .hero {
        height: 40vh;
      }
      .section h2 {
        font-size: 1.5rem;
      }
      .btn-primary {
        padding: 10px 20px;
        font-size: 14px;
      }
      .event-item {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Preloader -->
  <div id="preloader">
    <img src="https://raw.githubusercontent.com/itsdjjohn/djjohn/main/DJ%20JOHN%20LOGO%20BLANCO.png" alt="DJ John Logo">
  </div>

  <header>
    <div class="container nav">
      <a href="#home">
        <img src="https://raw.githubusercontent.com/itsdjjohn/djjohn/main/DJ%20JOHN%20LOGO%20BLANCO.png" alt="DJ John Logo" />
      </a>
      <button class="menu-toggle" aria-label="Toggle menu">
        <svg viewBox="0 0 24 24">
          <path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/>
        </svg>
      </button>
      <div class="nav-links">
        <a href="#tour" data-lang-key="nav-tour">Tour</a>
        <a href="#bio" data-lang-key="nav-bio">Biografía</a>
        <a href="#contact" data-lang-key="nav-contact">Contacto</a>
        <select id="language-select" onchange="changeLanguage()">
          <option value="es">Español</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>

  <section class="hero" id="home">
    <video autoplay muted loop playsinline>
      <source src="https://raw.githubusercontent.com/itsdjjohn/djjohn/main/Promo%202024_1.mp4" type="video/mp4">
      Tu navegador no soporta el elemento de video.
    </video>
  </section>

  <main class="container">
    <section id="tour" class="section">
      <h2 data-lang-key="tour-title">Próximos Eventos</h2>
      <div class="event-list" id="event-list">
        <!-- Eventos serán cargados dinámicamente con JavaScript -->
      </div>
    </section>

    <section id="bio" class="section">
      <h2 data-lang-key="bio-title">Biografía</h2>
      <img src="https://github.com/itsdjjohn/djjohn/blob/main/DSC09235.jpg?raw=true" alt="DJ John" style="max-width: 300px; border-radius: 12px; display: block; margin: 0 auto 20px;" />
      <p style="text-align: center; max-width: 800px; margin: 0 auto;" data-lang-key="bio-text">
        DJ John is a DJ and producer, born in Panama City. He is known for his unique style and ability to mix different genres. He began his career in the electronic music scene at age 13, playing at local parties and events. Eventually, his talent and dedication led him to play in nationally renowned clubs. He has played some of the biggest festivals in Panama like PARADISE 507 and PARADISE PESKITO (Carnivals).
      </p>
    </section>

    <section id="contact" class="section">
      <h2 data-lang-key="contact-title">Contacto</h2>
      <form action="https://formspree.io/f/mgvkeyrd" method="POST" style="max-width: 600px; margin: 0 auto;">
        <input type="text" name="name" placeholder="Tu nombre" data-lang-placeholder="contact-name" required style="width: 100%; padding: 12px; margin-bottom: 15px; border: none; border-radius: 8px; background: #222; color: white;" />
        <input type="email" name="email" placeholder="Tu correo" data-lang-placeholder="contact-email" required style="width: 100%; padding: 12px; margin-bottom: 15px; border: none; border-radius: 8px; background: #222; color: white;" />
        <textarea name="message" placeholder="¿En qué puedo ayudarte?" data-lang-placeholder="contact-message" required style="width: 100%; padding: 12px; height: 150px; border: none; border-radius: 8px; background: #222; color: white;"></textarea>
        <button type="submit" class="btn-primary" data-lang-key="contact-submit">Enviar</button>
      </form>
      <p style="text-align: center; margin-top: 20px;">
        <a href="mailto:esquiveljohn2@gmail.com" data-lang-key="contact-bookings">Bookings: esquiveljohn2@gmail.com</a>
      </p>
    </section>
  </main>

  <footer>
    <img src="https://raw.githubusercontent.com/itsdjjohn/djjohn/main/DJ%20JOHN%20LOGO%20BLANCO.png" alt="DJ John Logo" class="logo">
    <p data-lang-key="footer-follow">Sígueme en:</p>
    <a href="https://instagram.com/itsdjjohn" target="_blank">Instagram</a>
    <a href="https://facebook.com/itsdjjohn" target="_blank">Facebook</a>
    <p style="margin-top: 10px; font-size: 12px; color: #888;" data-lang-key="footer-copyright">© 2025 DJ John. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Language switcher
    const translations = {
      es: {
        'nav-tour': 'Tour',
        'nav-bio': 'Biografía',
        'nav-contact': 'Contacto',
        'tour-title': 'Próximos Eventos',
        'buy-ticket': 'Comprar Entradas',
        'bio-title': 'Biografía',
        'bio-text': 'DJ John es un DJ y productor, nacido en la Ciudad de Panamá. Es conocido por su estilo único y su habilidad para mezclar diferentes géneros. Comenzó su carrera en la escena de la música electrónica a los 13 años, tocando en fiestas y eventos locales. Eventualmente, su talento y dedicación lo llevaron a presentarse en clubes de renombre nacional. Ha tocado en algunos de los festivales más grandes de Panamá como PARADISE 507 y PARADISE PESKITO (Carnavales).',
        'contact-title': 'Contacto',
        'contact-name': 'Tu nombre',
        'contact-email': 'Tu correo',
        'contact-message': '¿En qué puedo ayudarte?',
        'contact-submit': 'Enviar',
        'contact-bookings': 'Bookings: esquiveljohn2@gmail.com',
        'footer-follow': 'Sígueme en:',
        'footer-copyright': '© 2025 DJ John. Todos los derechos reservados.'
      },
      en: {
        'nav-tour': 'Tour',
        'nav-bio': 'Biography',
        'nav-contact': 'Contact',
        'tour-title': 'Upcoming Events',
        'buy-ticket': 'Buy Tickets',
        'bio-title': 'Biography',
        'bio-text': 'DJ John is a DJ and producer, born in Panama City. He is known for his unique style and ability to mix different genres. He began his career in the electronic music scene at age 13, playing at local parties and events. Eventually, his talent and dedication led him to play in nationally renowned clubs. He has played some of the biggest festivals in Panama like PARADISE 507 and PARADISE PESKITO (Carnivals).',
        'contact-title': 'Contact',
        'contact-name': 'Your name',
        'contact-email': 'Your email',
        'contact-message': 'How can I help you?',
        'contact-submit': 'Send',
        'contact-bookings': 'Bookings: esquiveljohn2@gmail.com',
        'footer-follow': 'Follow me on:',
        'footer-copyright': '© 2025 DJ John. All rights reserved.'
      }
    };

    function changeLanguage() {
      const lang = document.getElementById('language-select').value;
      document.querySelectorAll('[data-lang-key]').forEach(element => {
        element.textContent = translations[lang][element.getAttribute('data-lang-key')];
      });
      document.querySelectorAll('[data-lang-placeholder]').forEach(element => {
        element.placeholder = translations[lang][element.getAttribute('data-lang-placeholder')];
      });
      // Recargar eventos para actualizar formato de fechas
      loadEvents();
    }

    // Cargar eventos desde Bandsintown API
    async function loadEvents() {
      const eventList = document.getElementById('event-list');
      const lang = document.getElementById('language-select').value;
      eventList.innerHTML = ''; // Limpiar lista

      try {
        const response = await fetch('https://rest.bandsintown.com/artists/id_86889/events?app_id=6ddc274027f79a574321428def39a357');
        const events = await response.json();

        // Filtrar eventos futuros
        const now = new Date();
        const futureEvents = events.filter(event => new Date(event.datetime) >= now);

        if (futureEvents.length === 0) {
          eventList.innerHTML = `<p class="event-error">${lang === 'es' ? 'No hay eventos próximos.' : 'No upcoming events.'}</p>`;
          return;
        }

        futureEvents.forEach(event => {
          const date = new Date(event.datetime);
          const formattedDate = new Intl.DateTimeFormat(lang === 'es' ? 'es-ES' : 'en-US', {
            month: 'short',
            day: 'numeric',
            year: 'numeric'
          }).format(date).replace(/^./, str => str.toUpperCase());

          const eventItem = document.createElement('div');
          eventItem.className = 'event-item';
          eventItem.innerHTML = `
            <div class="event-info">
              <strong>📅 ${formattedDate}</strong>
              <h3>${event.title}</h3>
              <span>📍 ${event.venue.city}, ${event.venue.country}</span>
            </div>
            <a href="${event.ticket_url || event.url}" class="btn-primary" target="_blank" data-lang-key="buy-ticket">
              ${translations[lang]['buy-ticket']}
            </a>
          `;
          eventList.appendChild(eventItem);
        });
      } catch (error) {
        eventList.innerHTML = `<p class="event-error">${lang === 'es' ? 'Error al cargar los eventos.' : 'Error loading events.'}</p>`;
      }
    }

    // Toggle menú en móviles
    document.querySelector('.menu-toggle').addEventListener('click', () => {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('nav-active');
    });

    // Cerrar menú al hacer clic en un enlace
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        const navLinks = document.querySelector('.nav-links');
        navLinks.classList.remove('nav-active');
      });
    });

    // Cerrar menú al cambiar idioma
    document.getElementById('language-select').addEventListener('change', () => {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.remove('nav-active');
    });

    // Preloader
    window.addEventListener('load', function() {
      const preloader = document.getElementById('preloader');
      preloader.style.display = 'none';
      // Cargar eventos al iniciar
      loadEvents();
    });

    // Intersection Observer para secciones
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('show');
        }
      });
    });
    document.querySelectorAll('.section').forEach(section => {
      observer.observe(section);
    });
  </script>
</body>
</html>